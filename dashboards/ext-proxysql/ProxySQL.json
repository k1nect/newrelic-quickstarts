{
    "name": "ProxySQL",
    "description": null,
    "pages": [
      {
        "name": "ProxySQL",
        "description": null,
        "widgets": [
          {
            "title": "",
            "layout": {
              "column": 1,
              "row": 1,
              "width": 3,
              "height": 2
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.markdown"
            },
            "rawConfiguration": {
              "text": "#   \n\\\n\\\n![Logo](https://user-images.githubusercontent.com/2662304/47610153-b3008b00-da56-11e8-8eec-73cfdbf2dc54.png)"
            }
          },
          {
            "title": "Active Transactions",
            "layout": {
              "column": 4,
              "row": 1,
              "width": 4,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "SELECT sum(proxysql_active_transactions) FROM Metric TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "COUNT"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Frontend Usage",
            "layout": {
              "column": 8,
              "row": 1,
              "width": 5,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "SELECT sum(proxysql_client_connections_connected/proxysql_mysql_max_connections)*100 FROM Metric TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "PERCENTAGE"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Cache Read Success %",
            "layout": {
              "column": 1,
              "row": 3,
              "width": 3,
              "height": 4
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.billboard"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "FROM(FROM Metric SELECT filter(sum(proxysql_query_cache_count_get_total), where status = 'ok') as 'ok', sum(proxysql_query_cache_count_get_total) as 'total' LIMIT MAX) SELECT latest(ok/total)*100 as ''"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "thresholds": [
                {
                  "alertSeverity": "CRITICAL",
                  "value": 90
                },
                {
                  "alertSeverity": "WARNING",
                  "value": 80
                }
              ]
            }
          },
          {
            "title": "Frontend Connections",
            "layout": {
              "column": 4,
              "row": 4,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "SELECT sum(proxysql_client_connections_connected) FROM Metric TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "COUNT"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Backend Connections",
            "layout": {
              "column": 7,
              "row": 4,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "SELECT sum(proxysql_server_connections_connected) FROM Metric TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "COUNT"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Backend Connection Status",
            "layout": {
              "column": 10,
              "row": 4,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "SELECT sum(proxysql_server_connections_total) FROM Metric facet status TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "COUNT"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Incoming Writes vs Entries Stored",
            "layout": {
              "column": 1,
              "row": 7,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_query_cache_count_set_total) TIMESERIES auto"
                },
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_query_cache_entries_total) TIMESERIES AUTO "
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Slow Queries",
            "layout": {
              "column": 4,
              "row": 7,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_slow_queries_total) TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "COUNT"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Uptime",
            "layout": {
              "column": 7,
              "row": 7,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_uptime_seconds_total) TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "SECONDS"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Frontend Connection Status",
            "layout": {
              "column": 10,
              "row": 7,
              "width": 3,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "SELECT sum(proxysql_client_connections_total) FROM Metric facet status TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "units": {
                "unit": "COUNT"
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          },
          {
            "title": "Error Counters",
            "layout": {
              "column": 1,
              "row": 10,
              "width": 12,
              "height": 3
            },
            "linkedEntityGuids": null,
            "visualization": {
              "id": "viz.line"
            },
            "rawConfiguration": {
              "facet": {
                "showOtherSeries": false
              },
              "legend": {
                "enabled": true
              },
              "nrqlQueries": [
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_access_denied_wrong_password_total) TIMESERIES AUTO"
                },
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_access_denied_max_user_connections_total) TIMESERIES AUTO"
                },
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_access_denied_max_connections_total) TIMESERIES AUTO"
                },
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_max_connect_timeouts_total) TIMESERIES AUTO"
                },
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_backend_lagging_during_query_total) TIMESERIES AUTO"
                },
                {
                  "accountId": 0,
                  "query": "FROM Metric SELECT sum(proxysql_backend_offline_during_query_total) TIMESERIES AUTO"
                }
              ],
              "platformOptions": {
                "ignoreTimeRange": false
              },
              "yAxisLeft": {
                "zero": true
              }
            }
          }
        ]
      }
    ]
  }